[gd_scene load_steps=7 format=3 uid="uid://8yx7jsro4mbn"]

[ext_resource type="Script" uid="uid://b5m3il1f2vg1l" path="res://scenes/turrets/normal_turret.gd" id="1_bwbfq"]
[ext_resource type="Script" uid="uid://bys7pe2ejat8l" path="res://scenes/turrets/click_area.gd" id="2_8ls5f"]
[ext_resource type="AudioStream" uid="uid://cdayev8btv81l" path="res://assets/sound_effects 2.0/projectiles/regular_shot.mp3" id="2_w6ke2"]
[ext_resource type="PackedScene" uid="uid://dtacfj8mostuy" path="res://assets/Custom Assets/Turrets/Base Turret.glb" id="3_w6ke2"]
[ext_resource type="FontFile" uid="uid://dmkk06o8nk7i1" path="res://assets/80s-retro-future.ttf" id="5_8ls5f"]

[sub_resource type="CircleShape2D" id="CircleShape2D_w2qlq"]
radius = 32.0

[node name="NormalTurret" type="Node2D" groups=["turrets"]]
z_index = 3
script = ExtResource("1_bwbfq")

[node name="Muzzle" type="Marker2D" parent="."]

[node name="Timer" type="Timer" parent="."]

[node name="Area2D" type="Area2D" parent="."]
collision_layer = 32
collision_mask = 2
script = ExtResource("2_8ls5f")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
shape = SubResource("CircleShape2D_w2qlq")

[node name="Shoot_Sound" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("2_w6ke2")
volume_db = -20.169
bus = &"SFX"

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
clip_contents = true
offset_left = -45.0
offset_top = -54.0
offset_right = 55.0
offset_bottom = 46.0
stretch = true

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
transparent_bg = true
handle_input_locally = false
mesh_lod_threshold = 0.0
fsr_sharpness = 0.4
canvas_cull_mask = 4293918752
size = Vector2i(100, 100)
size_2d_override = Vector2i(200, 200)
render_target_update_mode = 4

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 0.133035, 0.991111, 0, -0.991111, 0.133035, 1.69501, -2.18023, -0.322895)

[node name="Camera3D_normal_turret" type="Camera3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(0.0154417, 0.00105138, -0.244511, -0.0446447, 0.240891, -0.00178364, 0.240403, 0.044668, 0.0153743, -1.34527, -1.21067, 1.12521)
cull_mask = 1
current = true
fov = 59.3

[node name="Base Turret" parent="SubViewportContainer/SubViewport" instance=ExtResource("3_w6ke2")]
transform = Transform3D(0.0603343, -0.998178, -2.19025e-09, -0.614924, -0.0371687, 0.78771, -0.786275, -0.0475259, -0.616046, 9.2127, -2.17426, 1.16976)

[node name="MenuTimer" type="Timer" parent="."]
wait_time = 5.0

[node name="Label" type="Label" parent="."]
offset_left = -50.0
offset_top = -38.0
offset_right = 28.0
offset_bottom = -15.902634
rotation = 1.5707964
theme_override_fonts/font = ExtResource("5_8ls5f")
text = " Level: 1"

[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
[connection signal="AreaClicked" from="Area2D" to="." method="_on_area_2d_area_clicked"]
[connection signal="timeout" from="MenuTimer" to="." method="_on_menu_timer_timeout"]
